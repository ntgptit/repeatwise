import{u as O,c as P,r as i,j as e,s as S,a as d,T as l,S as W,F as f,d as j,I as A,e as F,B as y,C as I}from"./index-Cg5IDLAj.js";import{P as L}from"./PageHelmet-DXTSFW23.js";import{L as k}from"./index-DRhxnB1U.js";import{C as T}from"./Container-CmgLE638.js";import{C as B}from"./Card-BV0-onuQ.js";import{A as V}from"./Alert-BfQRkqTI.js";import{V as z,a as D}from"./VisibilityOff-CS5vLWo5.js";const K=S(d)(()=>`
    height: 100%;
    display: flex;
    flex: 1;
    overflow: auto;
    flex-direction: column;
    align-items: center;
    justify-content: center;
`);function J(){const c=O(),{login:w,isLoading:s,error:m,clearError:u}=P(),[a,v]=i.useState({usernameOrEmail:"",password:""}),[n,E]=i.useState(!1),[t,x]=i.useState({usernameOrEmail:"",password:""}),C=()=>{const r={usernameOrEmail:"",password:""};return a.usernameOrEmail.trim()||(r.usernameOrEmail="Username or email is required"),a.password||(r.password="Password is required"),x(r),!r.usernameOrEmail&&!r.password},h=async()=>{if(u(),!!C())try{await w(a),c("/dashboards/crypto")}catch(r){console.error("Login failed:",r)}},p=r=>{r.key==="Enter"&&h()},g=r=>b=>{v(o=>({...o,[r]:b.target.value})),x(o=>({...o,[r]:""}))};return e.jsxs(e.Fragment,{children:[e.jsx(L,{title:"Login - RepeatWise"}),e.jsx(K,{children:e.jsxs(T,{maxWidth:"sm",children:[e.jsxs(d,{textAlign:"center",mb:3,children:[e.jsx(k,{}),e.jsx(l,{variant:"h2",sx:{my:2},children:"Welcome to RepeatWise"}),e.jsx(l,{variant:"h4",color:"text.secondary",fontWeight:"normal",children:"Sign in to your account"})]}),e.jsx(B,{sx:{p:4},children:e.jsxs(W,{spacing:3,children:[m&&e.jsx(V,{severity:"error",onClose:u,children:m}),e.jsx(f,{fullWidth:!0,children:e.jsx(j,{label:"Username or Email",type:"text",value:a.usernameOrEmail,onChange:g("usernameOrEmail"),onKeyPress:p,fullWidth:!0,variant:"outlined",error:!!t.usernameOrEmail,helperText:t.usernameOrEmail,disabled:s,autoFocus:!0})}),e.jsx(f,{fullWidth:!0,children:e.jsx(j,{label:"Password",type:n?"text":"password",value:a.password,onChange:g("password"),onKeyPress:p,fullWidth:!0,variant:"outlined",error:!!t.password,helperText:t.password,disabled:s,InputProps:{endAdornment:e.jsx(A,{position:"end",children:e.jsx(F,{onClick:()=>E(!n),edge:"end",children:n?e.jsx(z,{}):e.jsx(D,{})})})}})}),e.jsx(y,{variant:"contained",size:"large",fullWidth:!0,onClick:h,disabled:s,startIcon:s&&e.jsx(I,{size:20}),children:s?"Signing In...":"Sign In"}),e.jsx(d,{textAlign:"center",children:e.jsxs(l,{variant:"body2",color:"text.secondary",children:["Don't have an account?"," ",e.jsx(y,{variant:"text",size:"small",onClick:()=>c("/register"),disabled:s,children:"Sign Up"})]})})]})})]})})]})}export{J as default};
